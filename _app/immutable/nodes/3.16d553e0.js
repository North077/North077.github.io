import{s as N,n as A,r as G,f as H,h as J}from"../chunks/scheduler.6a4f3e46.js";import{S as O,i as j,g as v,h as g,j as k,f,k as d,a as _,z as K,l as I,t as C,b as L,d as x,p as Q,A as R,s as D,m as z,y as X,c as $,n as S,x as U,B as F,C as q,o as Y,r as Z,u as ee,v as te,w as ne}from"../chunks/index.7d779659.js";function M(c){return(c==null?void 0:c.length)!==void 0?c:Array.from(c)}function P(c,t,s){const e=c.slice();return e[1]=t[s],e}function T(c){let t;return{c(){t=v("div"),this.h()},l(s){t=g(s,"DIV",{class:!0,style:!0}),k(t).forEach(f),this.h()},h(){d(t,"class","bar svelte-12qhyi6"),I(t,"height",c[1]+"px")},m(s,e){_(s,t,e)},p(s,e){e&1&&I(t,"height",s[1]+"px")},d(s){s&&f(t)}}}function se(c){let t,s=M(c[0]),e=[];for(let l=0;l<s.length;l+=1)e[l]=T(P(c,s,l));return{c(){t=v("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=g(l,"DIV",{class:!0});var o=k(t);for(let a=0;a<e.length;a+=1)e[a].l(o);o.forEach(f),this.h()},h(){d(t,"class","container svelte-12qhyi6")},m(l,o){_(l,t,o);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(l,[o]){if(o&1){s=M(l[0]);let a;for(a=0;a<s.length;a+=1){const u=P(l,s,a);e[a]?e[a].p(u,o):(e[a]=T(u),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=s.length}},i:A,o:A,d(l){l&&f(t),K(e,l)}}}function le(c,t,s){let{data:e=[80,50,100,120,50]}=t;return c.$$set=l=>{"data"in l&&s(0,e=l.data)},[e]}class ae extends O{constructor(t){super(),j(this,t,le,se,N,{data:0})}}function ce(c){let t,s="Click here to start",e,l,o,a,u,n,i,p;return{c(){t=v("button"),t.textContent=s,e=D(),l=v("p"),o=z("Bars: "),a=z(c[0]),u=D(),n=v("input"),this.h()},l(r){t=g(r,"BUTTON",{class:!0,["data-svelte-h"]:!0}),X(t)!=="svelte-1uhhr1f"&&(t.textContent=s),e=$(r),l=g(r,"P",{name:!0});var h=k(l);o=S(h,"Bars: "),a=S(h,c[0]),h.forEach(f),u=$(r),n=g(r,"INPUT",{type:!0,max:!0,min:!0}),this.h()},h(){d(t,"class","svelte-8dfbvz"),d(l,"name","Bars Count"),d(n,"type","range"),d(n,"max","20"),d(n,"min","3")},m(r,h){_(r,t,h),_(r,e,h),_(r,l,h),U(l,o),U(l,a),_(r,u,h),_(r,n,h),F(n,c[0]),i||(p=[q(t,"click",c[4]),q(n,"change",c[5]),q(n,"input",c[5])],i=!0)},p(r,h){h&1&&Y(a,r[0]),h&1&&F(n,r[0])},i:A,o:A,d(r){r&&(f(t),f(e),f(l),f(u),f(n)),i=!1,G(p)}}}function ie(c){let t,s,e,l,o,a,u;return t=new ae({props:{data:c[1]}}),{c(){Z(t.$$.fragment),s=D(),e=v("audio"),this.h()},l(n){ee(t.$$.fragment,n),s=$(n),e=g(n,"AUDIO",{src:!0}),k(e).forEach(f),this.h()},h(){e.autoplay=!0,H(e.src,l=re)||d(e,"src",l)},m(n,i){te(t,n,i),_(n,s,i),_(n,e,i),o=!0,a||(u=J(c[3].call(null,e)),a=!0)},p(n,i){const p={};i&2&&(p.data=n[1]),t.$set(p)},i(n){o||(x(t.$$.fragment,n),o=!0)},o(n){C(t.$$.fragment,n),o=!1},d(n){n&&(f(s),f(e)),ne(t,n),a=!1,u()}}}function oe(c){let t,s,e,l;const o=[ie,ce],a=[];function u(n,i){return n[2]?0:1}return s=u(c),e=a[s]=o[s](c),{c(){t=v("div"),e.c(),this.h()},l(n){t=g(n,"DIV",{class:!0});var i=k(t);e.l(i),i.forEach(f),this.h()},h(){d(t,"class","wrapper svelte-8dfbvz")},m(n,i){_(n,t,i),a[s].m(t,null),l=!0},p(n,[i]){let p=s;s=u(n),s===p?a[s].p(n,i):(Q(),C(a[p],1,1,()=>{a[p]=null}),L(),e=a[s],e?e.p(n,i):(e=a[s]=o[s](n),e.c()),x(e,1),e.m(t,null))},i(n){l||(x(e),l=!0)},o(n){C(e),l=!1},d(n){n&&f(t),a[s].d()}}}const re="audio/AUD-20230809-WA0003.mp3";function V(c){return c.reduce((t,s)=>t+=s)/c.length}function ue(c,t,s){let e=7,l=new Array(e),o=!1,a,u,n,i;function p(y){return a=new AudioContext,u=a.createMediaElementSource(y),n=a.createAnalyser(),u.connect(n),u.connect(a.destination),i=new Uint8Array(n.frequencyBinCount),n.getByteFrequencyData(i),r(),{update:()=>{},destroy:()=>{}}}function r(){requestAnimationFrame(r),n.getByteFrequencyData(i);const y=Math.floor(i.length/e),w=Math.floor(e/2);let E=0;for(let m=0;m<=w;m++){const b=y*m,B=i.slice(b,b+y);s(1,l[E++]=V(B)+16,l)}for(let m=e-1;m>w;m--){const b=y*m,B=i.slice(b,b+y);s(1,l[E++]=V(B)+16,l)}s(1,l)}const h=()=>s(2,o=!0);function W(){e=R(this.value),s(0,e)}return[e,l,o,p,h,W]}class pe extends O{constructor(t){super(),j(this,t,ue,oe,N,{})}}export{pe as component};
