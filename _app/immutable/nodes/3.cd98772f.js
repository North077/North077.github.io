import{s as N,n as q,r as G,f as H,h as J}from"../chunks/scheduler.6a4f3e46.js";import{S as O,i as j,g,h as v,j as k,f,k as d,a as _,z as K,l as A,t as C,b as L,d as D,p as Q,A as R,s as $,m as S,y as X,c as w,n as U,x as z,B as F,C as B,o as Y,r as Z,u as ee,v as te,w as ne}from"../chunks/index.7d779659.js";function M(c){return(c==null?void 0:c.length)!==void 0?c:Array.from(c)}function P(c,t,s){const e=c.slice();return e[1]=t[s],e}function T(c){let t;return{c(){t=g("div"),this.h()},l(s){t=v(s,"DIV",{class:!0,style:!0}),k(t).forEach(f),this.h()},h(){d(t,"class","bar svelte-12qhyi6"),A(t,"height",c[1]+"px"),A(t,"background","hsl("+c[1]/116*360+", 80%, 50%)")},m(s,e){_(s,t,e)},p(s,e){e&1&&A(t,"height",s[1]+"px"),e&1&&A(t,"background","hsl("+s[1]/116*360+", 80%, 50%)")},d(s){s&&f(t)}}}function se(c){let t,s=M(c[0]),e=[];for(let l=0;l<s.length;l+=1)e[l]=T(P(c,s,l));return{c(){t=g("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=v(l,"DIV",{class:!0});var i=k(t);for(let a=0;a<e.length;a+=1)e[a].l(i);i.forEach(f),this.h()},h(){d(t,"class","container svelte-12qhyi6")},m(l,i){_(l,t,i);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(l,[i]){if(i&1){s=M(l[0]);let a;for(a=0;a<s.length;a+=1){const u=P(l,s,a);e[a]?e[a].p(u,i):(e[a]=T(u),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=s.length}},i:q,o:q,d(l){l&&f(t),K(e,l)}}}function le(c,t,s){let{data:e=[80,50,100,120,50]}=t;return c.$$set=l=>{"data"in l&&s(0,e=l.data)},[e]}class ae extends O{constructor(t){super(),j(this,t,le,se,N,{data:0})}}function ce(c){let t,s="Click here to start",e,l,i,a,u,n,o,p;return{c(){t=g("button"),t.textContent=s,e=$(),l=g("p"),i=S("Bars: "),a=S(c[0]),u=$(),n=g("input"),this.h()},l(r){t=v(r,"BUTTON",{class:!0,["data-svelte-h"]:!0}),X(t)!=="svelte-1uhhr1f"&&(t.textContent=s),e=w(r),l=v(r,"P",{name:!0});var h=k(l);i=U(h,"Bars: "),a=U(h,c[0]),h.forEach(f),u=w(r),n=v(r,"INPUT",{type:!0,max:!0,min:!0}),this.h()},h(){d(t,"class","svelte-6xx6qf"),d(l,"name","Bars Count"),d(n,"type","range"),d(n,"max","20"),d(n,"min","3")},m(r,h){_(r,t,h),_(r,e,h),_(r,l,h),z(l,i),z(l,a),_(r,u,h),_(r,n,h),F(n,c[0]),o||(p=[B(t,"click",c[4]),B(n,"change",c[5]),B(n,"input",c[5])],o=!0)},p(r,h){h&1&&Y(a,r[0]),h&1&&F(n,r[0])},i:q,o:q,d(r){r&&(f(t),f(e),f(l),f(u),f(n)),o=!1,G(p)}}}function oe(c){let t,s,e,l,i,a,u;return t=new ae({props:{data:c[1]}}),{c(){Z(t.$$.fragment),s=$(),e=g("audio"),this.h()},l(n){ee(t.$$.fragment,n),s=w(n),e=v(n,"AUDIO",{src:!0}),k(e).forEach(f),this.h()},h(){e.autoplay=!0,H(e.src,l=re)||d(e,"src",l)},m(n,o){te(t,n,o),_(n,s,o),_(n,e,o),i=!0,a||(u=J(c[3].call(null,e)),a=!0)},p(n,o){const p={};o&2&&(p.data=n[1]),t.$set(p)},i(n){i||(D(t.$$.fragment,n),i=!0)},o(n){C(t.$$.fragment,n),i=!1},d(n){n&&(f(s),f(e)),ne(t,n),a=!1,u()}}}function ie(c){let t,s,e,l;const i=[oe,ce],a=[];function u(n,o){return n[2]?0:1}return s=u(c),e=a[s]=i[s](c),{c(){t=g("div"),e.c(),this.h()},l(n){t=v(n,"DIV",{class:!0});var o=k(t);e.l(o),o.forEach(f),this.h()},h(){d(t,"class","wrapper svelte-6xx6qf")},m(n,o){_(n,t,o),a[s].m(t,null),l=!0},p(n,[o]){let p=s;s=u(n),s===p?a[s].p(n,o):(Q(),C(a[p],1,1,()=>{a[p]=null}),L(),e=a[s],e?e.p(n,o):(e=a[s]=i[s](n),e.c()),D(e,1),e.m(t,null))},i(n){l||(D(e),l=!0)},o(n){C(e),l=!1},d(n){n&&f(t),a[s].d()}}}const re="audio/AUD-20230809-WA0003.mp3";function V(c){return c.reduce((t,s)=>t+=s)/c.length}function ue(c,t,s){let e=7,l=new Array(e),i=!1,a,u,n,o;function p(y){return a=new AudioContext,u=a.createMediaElementSource(y),n=a.createAnalyser(),u.connect(n),u.connect(a.destination),o=new Uint8Array(n.frequencyBinCount),n.getByteFrequencyData(o),r(),{update:()=>{},destroy:()=>{}}}function r(){requestAnimationFrame(r),n.getByteFrequencyData(o);const y=Math.floor(o.length/e),E=Math.floor(e/2);let I=0;for(let m=0;m<=E;m++){const b=y*m,x=o.slice(b,b+y);s(1,l[I++]=V(x)+16,l)}for(let m=e-1;m>E;m--){const b=y*m,x=o.slice(b,b+y);s(1,l[I++]=V(x)+16,l)}s(1,l)}const h=()=>s(2,i=!0);function W(){e=R(this.value),s(0,e)}return[e,l,i,p,h,W]}class pe extends O{constructor(t){super(),j(this,t,ue,ie,N,{})}}export{pe as component};
